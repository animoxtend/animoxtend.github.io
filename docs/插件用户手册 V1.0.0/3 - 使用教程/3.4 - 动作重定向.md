# 3.4 - åŠ¨ä½œé‡å®šå‘

## æ¦‚è¿°

åŠ¨ä½œé‡å®šå‘æ¨¡å—æ—¨åœ¨æä¾›ä¾¿æ·çš„äººä½“åŠ¨ä½œé‡å®šå‘åŠŸèƒ½ï¼Œä½ å¯ä»¥å¿«é€Ÿåœ°æŠŠåŠ¨ä½œä»ä¸€ä¸ªarmatureè¿ç§»åˆ°å…¶ä»–ä»»æ„çš„armatureä¸Šã€‚

## è‡ªåŠ¨é‡å®šå‘

æˆ‘ä»¬æä¾›ä¸€ç§é«˜è‡ªåŠ¨åŒ–çš„é‡å®šå‘æ–¹å¼ï¼Œåœ¨å¤§å¤šæƒ…å†µä¸‹ï¼Œç”¨æˆ·åªéœ€è¦é€‰æ‹©æºè§’è‰²ä»¥åŠç›®æ ‡è§’è‰²å³å¯æ‰§è¡Œé‡å®šå‘ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†è‡ªåŠ¨çš„è¿›è¡Œéª¨éª¼åŒ¹é…ã€å‚è€ƒå§¿åŠ¿å¯¹é½ã€ç¼©æ”¾ç­‰æ“ä½œã€‚

1. **é€‰æ‹©source armatureï¼š**é¦–å…ˆä½ éœ€è¦é€‰æ‹©ä¸€ä¸ª**å¸¦æœ‰åŠ¨ç”»çš„armatureå¯¹è±¡**æ¥ä½œä¸ºä½ çš„source armatureã€‚åœ¨é€‰æ‹©çš„æ—¶å€™ä½ å¯ä»¥åˆ©ç”¨å¸ç®¡å·¥å…·ã€‚å…ˆç‚¹å‡»å¸ç®¡å·¥å…·æŒ‰é’®ï¼Œç„¶åå†ç‚¹å‡»æƒ³è¦é€‰æ‹©çš„armatureå¯¹è±¡ï¼ˆå½“åœºæ™¯ä¸­å­˜åœ¨æ¿€æ´»å¹¶è¢«é€‰ä¸­çš„å¯¹è±¡æ—¶ï¼Œå¸ç®¡å·¥å…·å°†è‡ªåŠ¨é€‰ä¸­è¯¥å¯¹è±¡ï¼‰ã€‚
2. **é€‰æ‹©target armature ï¼š**é€‰æ‹©target armatureå¯¹è±¡ã€‚
3. **æ£€æŸ¥bone mappingï¼š**åœ¨é€‰æ‹©sourceæˆ–è€…target armatureä¹‹åï¼Œé‡å®šå‘æ¨¡å—ä¼šè‡ªåŠ¨åœ°æ‰§è¡Œbone mappingï¼Œæˆ‘ä»¬ä¼šæŠŠä¸¤ä¸ªarmatureçš„éª¨éª¼æ˜ å°„éƒ½åˆ°ä¸€ä¸ª**æ ‡å‡†ä¸­é—´éª¨éª¼**ã€‚Bone mappingçš„**æ‰§è¡ŒçŠ¶æ€**å°†ä¼šè¡¨ç°åœ¨åæ–¹æç¤ºæŒ‰é’®çš„å›¾æ ‡ä¸Šï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

    ![mapping_res.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/377f2602-1acb-4b9b-b8c9-0b4eab3f6e7a/190b4d2b-8ea5-474b-81eb-e1d1d71ffeb1/mapping_res.png)

    ä¸‰ç§ç¬¦å·ä¾æ¬¡è¡¨ç¤ºï¼š

    - æˆåŠŸï¼Œè¡¨ç¤ºæ‰€æœ‰é‡å®šå‘ç¯èŠ‚å¿…è¦çš„éª¨éª¼éƒ½åŒ¹é…æˆåŠŸ
    - å¤±è´¥ï¼Œè¡¨ç¤ºâ€Hipsâ€œéª¨éª¼æ²¡æœ‰åŒ¹é…åˆ°æœ‰æ•ˆçš„ç»“æœ
    - è­¦å‘Šï¼Œéƒ¨åˆ†èº«ä½“éƒ¨ä½çš„éª¨éª¼åŒ¹é…ä¸å®Œæ•´ï¼ˆåŒ¹é…ä¸å®Œæ•´çš„èº«ä½“éƒ¨åˆ†å°†ä¼šåœ¨bone mappingé¢æ¿çš„æœ€ä¸‹æ–¹æç¤ºï¼Œä½†æ˜¯ä¾æ—§å¯ä»¥æ‰§è¡Œé‡å®šå‘ï¼‰

    å¦‚æœä½ æƒ³ç¼–è¾‘bone mappingçš„ç»“æœï¼Œä½ å¯ä»¥ç‚¹å‡»æç¤ºæŒ‰é’®ï¼Œç„¶åbone mappingé¢æ¿å°†ä¼šåœ¨ä¸‹æ–¹å¼¹å‡ºï¼ˆå†æ¬¡ç‚¹å‡»æŒ‰é’®å¯ä»¥æ”¶å›é¢æ¿ï¼‰ï¼Œå¦‚å›¾æ˜¯ä¸€ä¸ªå¤´éƒ¨éª¨éª¼åŒ¹é…ç¼ºå¤±çš„æ¡ˆä¾‹ï¼š

    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/377f2602-1acb-4b9b-b8c9-0b4eab3f6e7a/79583693-2338-4932-961f-ff92a9da42c8/image.png)

4. **æ‰§è¡Œé‡å®šå‘ï¼š**ç‚¹å‡»â€Retarget Animationâ€œæŒ‰é’®æ‰§è¡Œé‡å®šå‘ï¼ŒæºåŠ¨ä½œå°†ä¼šè¿ç§»è‡³ç›®æ ‡è§’è‰²ã€‚åœ¨é‡å®šå‘æ—¶ï¼Œæˆ‘ä»¬ä¼š**è‡ªåŠ¨å¯¹é½**source armatureä»¥åŠtarget armatureçš„å‚è€ƒå§¿åŠ¿ã€‚

## è‡ªå®šä¹‰é‡å®šå‘

å¦‚æœä½ å¯¹è‡ªåŠ¨é‡å®šå‘çš„ç»“æœæ„Ÿåˆ°ä¸æ»¡æ„ï¼Œå¯ä»¥å±•å¼€"Advanced Settings"é¢æ¿ï¼Œç„¶åæ‰‹åŠ¨å¯¹é½å‚è€ƒå§¿åŠ¿ä»¥åŠæ›´æ”¹å…¶ä»–é‡å®šå‘çš„é…ç½®ã€‚æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š

1. **é€‰æ‹©source armatureï¼ˆå‚è€ƒè‡ªåŠ¨é‡å®šå‘ï¼‰ã€‚**
2. **é€‰æ‹©target armatureï¼ˆå‚è€ƒè‡ªåŠ¨é‡å®šå‘ï¼‰ã€‚**
3. **æ£€æŸ¥bone mappingï¼ˆå‚è€ƒè‡ªåŠ¨é‡å®šå‘ï¼‰ã€‚**
4. **å±•å¼€â€Advanced Settingsâ€œé¢æ¿ï¼Œä¿®æ”¹é‡å®šå‘é…ç½®ï¼š**

    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/377f2602-1acb-4b9b-b8c9-0b4eab3f6e7a/a3f63e55-356b-4388-be29-5ed9e6087061/image.png)

    1. **å¯¹é½å‚è€ƒå§¿åŠ¿ï¼ˆAlign Reference Poseï¼‰**

        åœ¨ä½¿ç”¨é«˜çº§è®¾ç½®è¿›è¡Œé‡å®šå‘ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹é½source armatureå’Œtarget armatureçš„å‚è€ƒå§¿åŠ¿ï¼Œç‚¹å‡»â€Align Reference Poseâ€œæŒ‰é’®ï¼Œå¯ä»¥è¿›å…¥å¯¹é½å‚è€ƒå§¿åŠ¿çš„é¢æ¿ã€‚

    2. **å¸§èŒƒå›´ï¼ˆFrame Rangeï¼‰**

        ä½ å¯ä»¥åœ¨é«˜çº§è®¾ç½®é‡Œå†³å®šé‡å®šå‘çš„å¸§èŒƒå›´ã€‚

    > [!TIP] ğŸ’¡ Tips
    > èµ·å§‹å¸§ä¸èƒ½æ—©äºæºåŠ¨ç”»çš„èµ·å§‹å¸§ï¼Œç»“æŸå¸§ä¸èƒ½æ™šäºæºåŠ¨ç”»çš„ç»“æŸå¸§ã€‚

    3. **è‡ªåŠ¨ç¼©æ”¾ï¼ˆAuto Scaleï¼‰**

        å¼€å¯â€Auto Scaleâ€œï¼Œæˆ‘ä»¬å°†æ ¹æ®source armatureå’Œtarget armatureçš„ä½“å‹å·®å¼‚ï¼Œè‡ªåŠ¨å¯¹åŠ¨ä½œçš„ä½ç§»è¿›è¡Œç¼©æ”¾ã€‚

    4. **ä¿æŒç›®æ ‡ä½ç½®ï¼ˆKeep Target Placeï¼‰**

        å¼€å¯â€Keep Target Placeâ€œï¼Œé‡å®šå‘åçš„åŠ¨ä½œå°†ä¼šä»¥target armatureåŸæœ¬rest poseæ‰€åœ¨çš„ä½ç½®ä»¥åŠæœå‘å¼€å§‹æ‰§è¡Œé‡å®šå‘åçš„åŠ¨ä½œã€‚

    5. **ä¼˜åŒ–è„ŠæŸ±é“¾ï¼ˆOptimize Spine Chainï¼‰**

        å¼€å¯â€Optimize Spine Chainâ€œï¼Œé‡å®šå‘è¿‡ç¨‹ä¼šåœ¨source armatureå’Œtarget armatureçš„è„ŠæŸ±é—´å®ç°â€å¤šå¯¹å¤šâ€œçš„å…³èŠ‚æ˜ å°„ï¼Œä»è€Œå¾—åˆ°æ›´è‡ªç„¶çš„è„ŠæŸ±åŠ¨ä½œã€‚

5. **æ‰§è¡Œé‡å®šå‘ã€‚**

> [!TIP] ğŸ’¡ Tips
> å¦‚æœæƒ³ä½¿å¾—è‡ªå®šä¹‰çš„é‡å®šå‘é…ç½®ç”Ÿæ•ˆï¼Œè¯·ä¿æŒâ€Advanced Settingsâ€œé¢æ¿ä¿æŒå¼€å¯çŠ¶æ€ã€‚åœ¨â€Retarget Animationâ€œæŒ‰é’®ä¸Šæ–¹ï¼Œå°†ä¼šæç¤ºå½“å‰é‡å®šå‘çš„å½¢æ€ã€‚

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/377f2602-1acb-4b9b-b8c9-0b4eab3f6e7a/4d0fd52b-3dd0-4024-89b1-3e5b04795298/image.png)

---

- **å¯¹é½å‚è€ƒå§¿åŠ¿**
    1. å½“æˆ‘ä»¬éœ€è¦å¯¹å‚è€ƒå§¿åŠ¿è¿›è¡Œå¯¹é½æ—¶ï¼Œå¯ä»¥ç‚¹å‡»â€Align Reference Poseâ€œã€‚

        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/377f2602-1acb-4b9b-b8c9-0b4eab3f6e7a/521f7114-7652-4e9d-b601-9969a68c3538/image.png)

    2. é€‰æ‹©ä»¥source armatureä»¥åŠtarget armatureçš„å“ªç§å§¿åŠ¿ä¸ºåŸºç¡€è¿›è¡Œå¯¹é½ï¼ŒåŒ…æ‹¬ï¼š
        - Restï¼šä»rest poseå¼€å§‹å¯¹é½
        - Currentï¼šä»å½“å‰å§¿åŠ¿å¼€å§‹å¯¹é½
        - Savedï¼šä»ä¿å­˜çš„å‚è€ƒå§¿åŠ¿å¼€å§‹å¯¹é½

        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/377f2602-1acb-4b9b-b8c9-0b4eab3f6e7a/c74c67f7-e11e-4401-86f8-b0c17e248f37/image.png)

        ç‚¹å‡»â€OKâ€œï¼Œå°±å¯ä»¥è·³è½¬åˆ°â€å¯¹é½å‚è€ƒå§¿åŠ¿â€œé¢æ¿ã€‚

    3. åœ¨â€å¯¹é½å‚è€ƒå§¿åŠ¿â€œé¢æ¿ï¼Œæˆ‘å¯ä»¥è‡ªåŠ¨å°†å‚è€ƒå§¿åŠ¿å¯¹é½åˆ°ä¸€ä¸ªæ ‡å‡†çš„å§¿åŠ¿ï¼ŒåŒ…æ‹¬ï¼š

        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/377f2602-1acb-4b9b-b8c9-0b4eab3f6e7a/d7a6e69f-c780-4843-8df9-30525451f734/image.png)

        é€šè¿‡â€Auto XX-poseâ€œæŒ‰é’®ï¼Œæˆ‘ä»¬å¯ä»¥å°†sourceä»¥åŠtargetçš„å‚è€ƒå§¿åŠ¿å¯¹é½åˆ°ç›¸åŒçš„å§¿åŠ¿ã€‚å¦‚æœå¯¹è¯¥å‚è€ƒå§¿åŠ¿ä¸æ»¡æ„ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»â€Resetâ€œæŒ‰é’®æ¢å¤åˆ°åˆå§‹çš„å‚è€ƒå§¿åŠ¿ã€‚

        å¦å¤–ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å°†ä¿®æ”¹åçš„å‚è€ƒå§¿åŠ¿åº”ç”¨ä¸ºrest poseï¼Œå¯ä»¥ç‚¹å‡»â€Apply Rest Poseâ€œã€‚

        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/377f2602-1acb-4b9b-b8c9-0b4eab3f6e7a/151ce6af-49da-4a7c-b470-685b587e98a9/image.png)

        ç‚¹å‡»â€OKâ€œï¼Œé‚£ä¹ˆè¯¥armatureçš„rest poseå°†ä¼šæ°¸ä¹…å˜æˆå½“å‰çš„å‚è€ƒå§¿åŠ¿ï¼Œ**åŒæ—¶ä¿ç•™åŸæ¥çš„åŠ¨ä½œ**ã€‚

    4. å‚è€ƒå§¿åŠ¿è°ƒæ•´å®Œæ¯•åï¼Œç‚¹å‡»â€Saveâ€œæŒ‰é’®ä¿å­˜å½“å‰ç»“æœï¼Œå¯¹é½å‚è€ƒå§¿åŠ¿æ“ä½œåˆ°è¿™é‡Œå°±å®Œæˆäº†ã€‚

        ç‚¹å‡»â€Cancelâ€œæŒ‰é’®ï¼Œåˆ™å–æ¶ˆå¯¹é½å‚è€ƒå§¿åŠ¿æ“ä½œã€‚

## å¿«æ·é‡å®šå‘

å¯¹äºèƒ½å¤Ÿ**æˆåŠŸè¿›è¡Œauto bone mapping**çš„armatureï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ç§ä¾¿æ·çš„é‡å®šå‘æ–¹å¼ï¼š

1. åœ¨**objectæ¨¡å¼**ä¸‹ï¼Œé€‰ä¸­source armatureï¼Œé€šè¿‡å¿«æ·é”®**â€Alt + Câ€œ**å¯ä»¥â€å¤åˆ¶â€œæºåŠ¨ä½œã€‚
2. é€‰ä¸­target armatureï¼Œé€šè¿‡å¿«æ·é”®**â€Alt + Vâ€œ**å³å¯å°†æºåŠ¨ä½œâ€ç²˜è´´â€œåˆ°target armatureã€‚

---

å…¶æ¬¡ï¼Œæˆ‘ä»¬è¿˜æ”¯æŒå±€éƒ¨çš„å¿«æ·é‡å®šå‘ï¼š

1. åœ¨**poseæ¨¡å¼**ä¸‹ï¼Œé€‰ä¸­æƒ³è¦â€å¤åˆ¶â€œåŠ¨ä½œçš„éƒ¨åˆ†éª¨éª¼ï¼Œåœ¨å³é”®å¼¹å‡ºçš„context menuä¸­ç‚¹å‡»â€Part Copy Motionâ€œã€‚
2. é€‰ä¸­ç›®æ ‡è§’è‰²çš„éƒ¨åˆ†éª¨éª¼ï¼Œåœ¨context menuä¸­ç‚¹å‡»â€Part Paste Motionâ€œï¼Œå³å¯å®Œæˆé€‰ä¸­éƒ¨åˆ†éª¨éª¼çš„å±€éƒ¨é‡å®šå‘ã€‚

## æ‰¹é‡é‡å®šå‘

æˆ‘ä»¬æä¾›æ‰¹é‡é‡å®šå‘çš„å·¥å…·ï¼Œåœ¨å¼€å§‹é‡å®šå‘ä¹‹å‰ï¼Œä½ éœ€è¦ç¡®å®šä»¥ä¸‹äº‹é¡¹ï¼ŒåŒ…æ‹¬ï¼š

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/377f2602-1acb-4b9b-b8c9-0b4eab3f6e7a/7a818749-2ec5-4bdb-9e4a-f1101c7e7ff6/image.png)

1. é€‰æ‹©â€Source motion folderâ€œï¼Œå³æ‰€æœ‰æºåŠ¨ä½œæ–‡ä»¶æ‰€å¤„çš„ç›®å½•ã€‚
2. é€‰æ‹©â€Source file typeâ€œï¼Œå³æºåŠ¨ä½œæ–‡ä»¶æ ¼å¼ï¼Œå¯ä»¥æ˜¯fbxæˆ–è€…bvhã€‚
3. é€‰æ‹©â€Target armature fileâ€œï¼Œå³å­˜å‚¨ç›®æ ‡éª¨éª¼çš„æ–‡ä»¶è·¯å¾„ï¼Œä»¥fbxæ ¼å¼å­˜å‚¨ã€‚
4. é€‰æ‹©â€Output motion folderâ€œï¼Œå³è¾“å‡ºé‡å®šå‘ç»“æœçš„ç›®å½•ã€‚
5. ç‚¹å‡»â€Batch Retarget Animationâ€œæŒ‰é’®æ‰§è¡Œè‡ªåŠ¨æ‰¹é‡é‡å®šå‘ï¼Œæ‰€æœ‰é‡å®šå‘ç»“æœå°†ä»¥fbxæ ¼å¼ä¿å­˜åœ¨è¾“å‡ºç›®å½•ã€‚

> [!TIP] ğŸ’¡ Tips
> ä¸ºäº†é¿å…å¯¼å…¥fbxæ—¶å‡ºç°ä¸€äº›æ„æ–™ä¹‹å¤–çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ¨èåœ¨blenderä¸­å®‰è£…better fbxæ’ä»¶ã€‚ä¸€æ—¦å®‰è£…better fbxï¼Œåœ¨æ‰§è¡Œæ‰¹é‡é‡å®šå‘æ—¶å°†ä¼šè‡ªåŠ¨ä½¿ç”¨better fbxæ¥å¯¼å…¥fbxã€‚

---

**æ²¿ç”¨å•äººé‡å®šå‘é…ç½®ï¼ˆUse Single Retarget Configï¼‰**

å¦‚æœä½ å¯¹æ‰¹é‡è‡ªåŠ¨é‡å®šå‘çš„ç»“æœä¸æ»¡æ„ï¼Œä½ å¯ä»¥å¯¼å…¥ä¸€ä¸ªä¾‹å­ç„¶ååœ¨â€Retargetâ€œé¢æ¿æ‰‹åŠ¨åšä¸€äº›é‡å®šå‘çš„é…ç½®ï¼Œå¹¶åœ¨â€Batch Retargetâ€œé¢æ¿å¼€å¯â€Use Single Retarget Configâ€œã€‚ä¹‹ååœ¨æ‰§è¡Œæ‰¹é‡é‡å®šå‘æ—¶ï¼Œæ¯æ¬¡é‡å®šå‘å°†ä¼šæ ¹æ®ä½ çš„è®¾ç½®æ‰§è¡Œã€‚

> [!TIP] ğŸ’¡ Tips
> éœ€è¦æ³¨æ„çš„æ˜¯æ‰§è¡Œæ‰¹é‡é‡å®šå‘æ—¶ï¼Œæ‰€æœ‰çš„æºéª¨éª¼ä»¥åŠç›®æ ‡éª¨éª¼å¿…é¡»å’Œå•äººé‡å®šå‘é…ç½®ä¸­çš„éª¨éª¼ä¿æŒä¸€è‡´ã€‚

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/377f2602-1acb-4b9b-b8c9-0b4eab3f6e7a/117b2cda-82dc-43e7-ab08-d3abc61386f7/image.png)
